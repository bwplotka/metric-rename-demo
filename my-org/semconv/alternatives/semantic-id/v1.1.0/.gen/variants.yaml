# Version of this file.
file_format: 1

# metric_identities to metric id that allows
# finding semantic id (prefix before the number).
metric_identities:
  my_app_latency_seconds_total~seconds.histogram:
  - id: "my_app_latency.2"
    intro_version: "v1.1.0" # When introduced.
  my_app_custom_elements_changed_total.counter:
  - id: "my_app_custom_elements.2"
    intro_version: "v1.1.0"
  my_app_latency_milliseconds_total~milliseconds.histogram:
  - id: "my_app_latency"
    intro_version: "v1.0.0"
  my_app_custom_elements_total.counter:
  - id: "my_app_custom_elements"
    intro_version: "v1.0.0"
  my_app_some_elements_totals~gauge:
  - id: "my_app_some_elements"
    intro_version: "v1.0.0"

# All variants for each metrics. More than two only if there
# were replacements since the beginning of this registry major version.
changelog:
  # Changelog by semantic ID.
  my_app_latency:
  - forward:
      new_metric_name: my_app_latency_seconds_total
      new_unit: "{seconds}"
      new_value_promql: "$old / 1000"
    backward:
      old_metric_name: my_app_latency_milliseconds_total
      old_unit: "{milliseconds}"
      old_value_promql: "$new * 1000"

  my_app_custom_elements:
  - forward:
      new_metric_name: my_app_custom_elements_changed_total
      attribute:
      - id: "integer"
        new_tag: "number"
      - id: "category"
        new_tag: "class"
        members:
        - id: "first"
          new_value: "FIRST"
        - id: "second"
          new_value: "SECOND"
        - id: "other"
          new_value: "OTHER"
    backward:
      old_metric_name: my_app_custom_elements_total
      attribute:
      - id: "integer"
        old_tag: "integer"
      - id: "category"
        old_tag: "category"
        members:
        - id: "first"
          old_value: "first"
        - id: "second"
          old_value: "second"
        - id: "other"
          old_value: "other"

  my_app_some_elements_totals:
