# Version of this file.
file_format: 1

# All variants for each metrics. More than two only if there
# were replacements since the beginning of this registry major version.
metric_variants:
  # Map by semantic ID.
  # All schema versions.
  <schema_version>:
    # All metrics with at least one variant that were present in the given version.
    # Alternatively <metric.id>, in the format I propose, so <metric_name>~<unit>.<type>.
    <metric.metric_name>:
      <metric.unit>:
        <metric.type>:
          # Map of forward and backward variants, by its schema version
          <variant.schema_version>:

          - id: <variant.id> # Not strictly needed.
            metric_name: <variant.metric_name>
            unit: <variant.unit>
            value_changes:
              backward_promql: ..
              forward_promql:  ..
            attributes_changes:
            # Only renames for now.
            - id: <variant.attribute[changed].id>  # Not strictly needed.
              old_tag: <metric.attribute[changed].tag>
              new_tag: <variant.attribute[changed].tag>
            - id: <variant.attribute[changed].id>  # Not strictly needed.
              members_changes:
              - id: <variant.attribute[changed].members[changed].id>  # Not strictly needed.
                old_value: <metric.attribute[changed].members[changed].value>
                new_value: <variant.attribute[changed].members[changed].value>
